@import "tailwindcss";

:root {
  --radial-gradient-25: radial-gradient(
    circle at 25% 25%,
    #f5f5dc 1px,
    transparent 1px
  );
  --radial-gradient-75: radial-gradient(
    circle at 75% 75%,
    #f0f0e8 1px,
    transparent 1px
  );
  --linear-gradient-left: linear-gradient(
    to left,
    rgba(139, 69, 19, 0.08) 0%,
    transparent 8%,
    transparent 92%,
    rgba(139, 69, 19, 0.04) 100%
  );
  --linear-gradient-right: linear-gradient(
    to right,
    rgba(139, 69, 19, 0.08) 0%,
    transparent 8%,
    transparent 92%,
    rgba(139, 69, 19, 0.04) 100%
  );
  --base: linear-gradient(145deg, #faf8f3, #f5f2ea);
  --base-inversed: linear-gradient(225deg, #faf8f3, #f5f2ea);

  .centerFlex {
    @apply flex justify-center items-center;
  }

  .ql-container {
    @apply h-full;
  }

  .ql-toolbar {
    @apply hidden;
  }

  .ql-editor,
  .ql-container,
  .ql-toolbar {
    @apply !border-0;
  }

  .sheetContainer {
    @apply h-[650px] aspect-3/4;
  }

  .pageContainer {
    @apply absolute h-full w-full transition-transform transform-3d duration-1000 ease-in-out z-0 perspective-[2000px];
  }

  .pageContainer.right {
    @apply origin-left;
  }
  .pageContainer.left {
    @apply origin-right;
  }

  .page {
    @apply absolute inset-0 h-full backface-hidden;
    @apply rounded-2xl border border-amber-900/10;
    @apply shadow-[0_2px_8px_rgba(139,69,19,0.15)];
    background-size: 20px 20px, 15px 15px, 100% 100%, 100% 100%;
  }

  .page.recto {
    @apply z-10 rotate-y-0;
    background: var(--radial-gradient-25), var(--radial-gradient-75),
      var(--linear-gradient-right), var(--base);
  }

  .page.verso {
    @apply z-0 rotate-y-180;
    background: var(--radial-gradient-25), var(--radial-gradient-75),
      var(--linear-gradient-left), var(--base-inversed);
  }

  /* =====================================================
   EFFETS DE LUMIÈRE ET D'OMBRE
   ===================================================== */

  /* Éclairage dynamique pendant le flip */
  .page::before {
    @apply content-[''] absolute inset-0 opacity-0 pointer-events-none rounded-2xl;
    @apply -translate-x-full transition-all duration-[600ms] ease-out;
  }

  .page::after {
    @apply content-[''] absolute inset-0 opacity-0 pointer-events-none rounded-2xl;
    @apply transition-opacity duration-[800ms] ease-out;

    background: radial-gradient(
        ellipse 60% 80% at 40% 50%,
        transparent 30%,
        rgba(139, 69, 19, 0.08) 60%,
        rgba(139, 69, 19, 0.15) 100%
      ),
      linear-gradient(
        45deg,
        rgba(0, 0, 0, 0.05) 0%,
        transparent 15%,
        transparent 85%,
        rgba(0, 0, 0, 0.05) 100%
      );
  }

  .pageContainer.rotate-y-180 .page::before {
    @apply opacity-100 translate-x-full;
  }

  .pageContainer.rotate-y-180 .page::after {
    @apply opacity-100;
  }

  /* Effet de courbure subtile */
  .pageContainer {
    @apply absolute h-full w-full z-0;
    @apply transition-transform duration-[1200ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)];
    @apply transform-3d perspective-dramatic;
  }

  /* =====================================================
   EFFETS HOVER ET INTERACTIONS
   ===================================================== */
  /* 
  .pageContainer:hover .page::before {
    @apply opacity-30 translate-x-0;
  } */

  .page.recto.cover,
  .page.verso.cover {
    @apply border-amber-900/30;
    background: radial-gradient(
        circle at 30% 30%,
        rgba(139, 69, 19, 0.3) 1px,
        transparent 1px
      ),
      radial-gradient(
        circle at 70% 70%,
        rgba(160, 82, 45, 0.2) 1px,
        transparent 1px
      ),
      linear-gradient(145deg, #8b4513, #a0522d) !important;

    background-size: 8px 8px, 12px 12px, 100% 100%;
  }
}
